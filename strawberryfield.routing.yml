system.admin_config_strawberryfield:
  path: '/admin/config/archipelago'
  defaults:
    _controller: '\Drupal\system\Controller\SystemController::systemAdminMenuBlockPage'
    _title: 'Archipelago'
  requirements:
    _permission: 'access administration pages'
  options:
    _admin_route: TRUE

strawberryfield.storage_settings_form:
  path: '/admin/config/archipelago/storage'
  defaults:
    _form: '\Drupal\strawberryfield\Form\StorageSettingsForm'
    _title: 'Storage Settings'
  requirements:
    _permission: 'access administration pages'
  options:
    _admin_route: TRUE

strawberryfield.important_solr_settings_form:
  path: '/admin/config/archipelago/important-solr-settings'
  defaults:
    _form: '\Drupal\strawberryfield\Form\ImportantSolrSettingsForm'
    _title: 'Important Solr Settings'
  requirements:
    _permission: 'access administration pages'
  options:
    _admin_route: TRUE

# The access check below has a soft dependency on Form Mode Manager module
# We get a list of all form modes, then check if user has permissions "use <formmode> form mode"
# These permissions are generated by Form Mode Manager
# See \Drupal\strawberryfield\Controller\CustomNodeEditController::getActiveFormModes
strawberryfield.custom_node_edit:
  path: '/node/{node}/edit-node'
  defaults:
     _controller: '\Drupal\strawberryfield\Controller\CustomNodeEditController::redirectToForm'
  requirements:
    _custom_access: '\Drupal\strawberryfield\Controller\CustomNodeEditController::access'
  options:
    parameters:
      node:
        type: entity:node
      user:
        type: entity:user  
